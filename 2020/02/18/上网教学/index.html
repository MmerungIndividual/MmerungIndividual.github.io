<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="欢迎来到我的博客，学艺不精">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        上网教学 - undefined
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 带学生博客，无精细打理，如有错误，请多包涵 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/zhemu.jpg" />
        </div>
        <div class="name">
            <i>WeiJian Huang</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 带学生博客，无精细打理，如有错误，请多包涵 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        上网教学
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2020-02-18 23:15:58</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#杂七杂八" title="杂七杂八">杂七杂八</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>科学上网：用 VPS 搭建 shadowsocks 服务器<br> 分类： 网络与安全2016-01-13 16:19:11<br>目前 shadowsocks 服务已经受到了影响，不过部署在 25 端口目前还可用。</p>
<p>仍然可以通过 ubuntu 的 apt-get 获取到 shadowsocks 服务端，windows、Mac OS X、Android 客户端的 release 下载链接仍然保留。因此在写作本文时，shadowsocks 还是可以使用的。</p>
<p>shadowsocks 简介<br>shadowsocks 是一款自定义协议的代理软件，由于其流量特征不明显，（直到不久前）一直可以稳定提供上网代理。</p>
<p>shadowsocks 客户端会在本地开启一个 socks5 代理，通过此代理的网络访问请求由客户端发送至服务端，服务端发出请求，收到响应数据后再发回客户端。</p>
<p>因此使用 shadowsocks 需要一台墙外的服务器来部署 shadowsocks 服务端。</p>
<p>购买 VPS 服务器<br>主流的 VPS（虚拟主机）服务器提供商有三家：</p>
<p>linode<br>digital ocean<br>bandwagon<br>下面的比上面的便宜。如果只是自用，bandwagon 足够。</p>
<p>一般使用 paypal 绑定一个 visa 或 mastercard 信用卡来付款。注意要用国际 paypal 帐号，国内的是不能用外币付款的。</p>
<p>在 bandwagon 购买 VPS 以后会获得一个主机地址和用于 ssh 登录的 root 密码。</p>
<p>远程登陆 VPS<br>Mac OS X 或 Linux 下直接在终端中 ssh root@your_vps_ip -p your_ssh_port   即可。</p>
<p>在 windows 系统下需要专门的客户端来 SSH 登录 VPS。在 xShell 官网  下载 xShell。</p>
<p>家庭和学校用户可以免费试用，下载时选择 home and school use 即可。需要用邮箱注册一下，下载链接会发送到邮箱中。</p>
<p>xShell 中新建一个连接，会要求输入目标 IP 地址和端口，以及 root 密码，按提示操作即可。</p>
<p>安装 shadowsocks</p>
<p>最好是centos7<br>1.安装pip</p>
<p>由于安装的是python 版本的 shadowsocks，所以首先安装pip</p>
<p>$ curl “<a href="https://bootstrap.pypa.io/get-pip.py&quot;" target="_blank" rel="noopener">https://bootstrap.pypa.io/get-pip.py&quot;</a> -o “get-pip.py”<br>$ python get-pip.py</p>
<p>2.安装shadowsocks<br>$ pip install –upgrade pip<br>$ pip install shadowsocks<br>3.创建配置文件</p>
<p>创建文件所在目录:/etc</p>
<p>#创建文件命令,<br>$ vi /etc/shadowsocks.json<br>#若进入了etc目录<br>$ vi shadowsocks.json</p>
<p>配置文件内容：<br>单端口：<br> {<br> “server”:”0.0.0.0”,            –服务器IP，直接用0.0.0.0也可<br> “server_port”:8888,            –端口端口<br> “local_address”: “127.0.0.1”,  –本地地址，可省略<br> “local_port”:1080,             –本地端口，可省略<br> “password”:”password”,         –密码<br> “timeout”:300,                 –超时时间，可省略<br> “method”:”aes-256-cfb”,        –加密策略，有多重策略，具体自查<br>}<br>多端口：<br>{<br>    “server”:”0.0.0.0”,<br>    “local_address”:”127.0.0.1”,<br>    “local_port”:1080,<br>    “port_password”:{           –每个端口对应一个密码<br>        “1111”:”password1”,<br>        “1112”:”password2”,<br>        “1113”:”password3”<br>    },<br>    “timeout”:300,<br>    “method”:”aes-256-cfb”,<br>    “fast_open”:false<br>}</p>
<p>4.启动shadowsocks<br>#启动<br>ssserver -c /etc/shadowsocks.json -d start<br>#停止<br>ssserver -c /etc/shadowsocks.json -d stop<br>#重启<br>ssserver -c /etc/shadowsocks.json -d restart</p>
<p>启动成功即可通过ss客户端使用。<br>在window端可以在控制台通过以下命令查看端口是否打开<br>telnet {ip} {port}</p>
<p>5.配置自启动<br>新建启动脚本文件/etc/systemd/system/shadowsocks.service，内容如下：<br>[Unit]<br>Description=Shadowsocks</p>
<p>[Service]<br>TimeoutStartSec=0<br>ExecStart=/usr/bin/ssserver -c /etc/shadowsocks.json</p>
<p>[Install]<br>WantedBy=multi-user.target</p>
<p>通过以下命令注册，启动服务<br>$ systemctl enable shadowsocks<br>$ systemctl start shadowsocks</p>
<p>启动后可以查看服务状态<br>$ systemctl status shadowsocks -l</p>
<p>若启动成功：<br>● shadowsocks.service - Shadowsocks<br>   Loaded: loaded (/etc/systemd/system/shadowsocks.service; enabled; vendor preset: disabled)<br>   Active: active (running) since Sun 2017-08-13 18:03:41 CST; 1h 29min ago<br> Main PID: 9567 (ssserver)<br>   CGroup: /system.slice/shadowsocks.service<br>           └─9567 /usr/bin/python2 /usr/bin/ssserver -c /etc/shadowsocks.json</p>
<p>如果，服务失败，重启服务器试一下</p>
<p>安装并启动 shadowsocks 客户端<br>shadowsocks 支持 windows、Mac OS X、Linux、Android、iOS 等多个平台。不过 iOS 由于系统对应用后台运行的限制，推荐使用客户端内嵌的浏览器科学上网，给其他应用代理时需要每过几分钟重新启动一下 app。</p>
<p>shadowsocks 项目 Github 主页在这里。</p>
<p>里面可以找到客户端下载地址。</p>
<p>下载安装客户端以后，只需按服务器的配置填写 IP 地址、服务器端口、本地端口（如果没有本地端口选项，就是默认的 1080）、密码、加密方式等参数，启动就可以了。</p>
<p>客户端支持全局代理和 PAC 代理两种方式，后者会使用一个脚本来自动检查一个网站是否在需要代理的网站列表中，自动选择直接连接或代理连接。</p>
<p>PAC 列表可以在线更新，但是难免有收录不全的情况。这时可以选择关闭 shadowsocks 代理（实际上是取消对系统代理的配置，shadowsocks 客户端仍然保持工作），然后使用支持自定义规则的代理管理插件来实现自动切换代理，比如 switchyOmega。</p>
<p>使用 switchyOmega 实现自动切换代理<br>switchyOmega 是 chrome 浏览器上一个很好用的代理管理插件。它的前身 switchySharp 更有名。</p>
<p>chrome 应用商店本身需要翻墙才能访问，因此需要先在 shadowsocks 启动代理模式下下载安装，再关闭 shadowsocks 代理。</p>
<p>安装完毕后，右击 switchyOmega 图标，选择选项，进入 switchOmega 配置界面。</p>
<p>创建 shadowsocks 情景模式<br>新建一个情景模式，比如叫 SS，代理协议选择 socks5，代理地址为 127.0.0.1，端口 1080。</p>
<p>现在切换到 SS 情景模式就可以通过 shadowsocks 科学上网了。后面获取自动切换规则列表</p>
<p>设置自动切换模式<br>在设置界面选择自动切换模式，在 “切换规则” 中勾选“规则列表规则”，对应的情景模式选择刚刚新建的 SS。</p>
<p>然后在下面的规则列表地址中填写</p>
<p><a href="https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt" target="_blank" rel="noopener">https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt</a></p>
<p>规则列表格式选择 AutoProxy。</p>
<p>然后点击立即更新情景模式， 更新完成后会有提示。</p>
<p>点击左侧的 “应用选项”。然后单击 switchyOmega 图标，选择自动切换，就可以在访问“不存在的网站” 时自动切换到 shadowsocks 代理了。</p>
<p>添加自定义规则<br>如果遇到某个国外网站无法直接连接或速度太慢时，可以单击 switchyOmega 图标，选择 “添加条件”，情景模式选择 SS，就可以了。</p>
<p>这时打开 switchyOmega 选项，在自动切换模式的切换规则中就可以看到刚刚添加的规则。可以在这里管理自定义的规则。</p>
<p>导入和导出 switchyOmega 设置<br>如果换了一台电脑，重新设置一遍 switchyOmega 就太麻烦了。可以在设置好的 switchyOmega 中导出设置文件，在另一个 chrome 浏览器中导入，就可以直接复制原来的设置了。</p>
<p>在 switchyOmega 选项的左侧点击 “导入 / 导出”，点击“生成备份文件” 即可生成 switchyOmega 设置备份。点击 “从备份文件恢复” 可以导入备份文件。</p>
<p>阅读(95842) | 评论(0) | 转发(3) |<br>1<br>上一篇：Server 2012建立iSCSI虚拟磁盘存储</p>
<p>下一篇：Centos 7 安装VNC步骤</p>
<p>给主人留下些什么吧！~~<br>评论热议<br>请登录后评论。<br>登录 注册</p>
<p>关于我们 | 关于IT168 | 联系方式 | 广告合作 | 法律声明 | 免费注册<br>Copyright 2001-2010 ChinaUnix.net All Rights Reserved 北京皓辰网域网络信息技术有限公司. 版权所有</p>
<p>感谢所有关心和支持过ChinaUnix的朋友们<br>16024965号-6</p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
